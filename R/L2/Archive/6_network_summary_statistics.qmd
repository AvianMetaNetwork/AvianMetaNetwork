---
title: "Summary Statistics for Avian Interaction Network: Canada/AK/CONUS Subset"
author: 
  - Kelly Kapsar
  - Phoebe L. Zarnetske
format:
  html:
    toc: true
    toc-depth: 3
    embed-resources: true
editor: source
date: 9 January 2026
date-format: iso
---

```{r, warnings=FALSE}

library(dplyr)

df <- read.csv(here::here("../Avian-Interaction-Database-Working/L1/ain_cac.csv"))
spp <- read.csv(here::here("./data/L1/species_checklists/spp_joint_cac.csv"))

num_intxns <- nrow(df)

unique_intxns <- df %>% 
  dplyr::select(species1_scientific, 
                species2_scientific, 
                effect_sp1_on_sp2, 
                effect_sp2_on_sp1, 
                interaction) %>% 
  filter(!duplicated(.)) 

num_unique_intxns <- nrow(unique_intxns)

num_focal_spp <- length(unique(df$species1_scientific))

unique_spp_list <- unique(c(df$species1_scientific, df$species2_scientific))
num_total_spp <- length(unique_spp_list)

total_cac_spp1 <- unique(df$species1_scientific[df$species1_scientific %in% spp$scientific_name_clements2024])
total_cac_spp2 <- unique(df$species2_scientific[df$species2_scientific %in% spp$scientific_name_clements2024])
total_cac_spp <- unique(c(total_cac_spp1, total_cac_spp2))

spp[!(spp$scientific_name_clements2024 %in% total_cac_spp),]

num_new_spp2 <- length(setdiff(unique_spp_list, df$species1_scientific))

unique_spp_list_names <- unique(spp$scientific_name_clements2024)
unique_spp1_ain_names <- unique(df$species1_scientific)



```


* Number of documented pairwise interactions: `r num_intxns`
* Number of unique pairwise interactions: `r num_unique_intxns`
* Number of focal species: `r num_focal_spp`
* Number of additional non-focal spp: `r num_new_spp2`
* Number of species (total): `r num_total_spp`
* Percent of world's bird spp (out of 11,1145 spp): `r round(num_total_spp/11145*100, 2)`
* Total number of migratory species: [Not sure how to calculate this]
* Total number of interaction types: `r length(unique(df$interaction))`

### Species list summary 
* Total number of species in the North American Avian Interaction Species List: `r length(unique(spp$scientific_name_clements2024))`


```{r}

unique_intxns %>% group_by(interaction) %>% summarize(n=n()) %>% arrange(-n)
```





